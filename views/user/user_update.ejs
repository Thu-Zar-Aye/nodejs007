<!DOCTYPE html>
<html lang="en">
<head>
	<% include ../partial/head %>
</head>
<body>
	<div class="wrapper">
		<div class="main-header">
			<!-- Logo Header -->
			 <% include ../partial/header %>
			<!-- End Logo Header -->

			<!-- Navbar Header -->
			 <% include ../partial/navbar %>
										<!-- End Navbar -->

		<!-- Sidebar -->
		 <% include ../partial/sidebar %>
		<!-- End Sidebar -->

		<div class="main-panel">
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <div class="card-header">
              <div class="card-title">User Update</div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-8 col-lg-8">
                    <form  action="/users/userupdate" method="post" >
                      <input type="hidden" name="id" value="<%= user._id%>">
                    <div class="form-group">
                      <label for="name">User Name</label>
                      <input type="text" class="form-control"  name="name" id="name"  value="<%= user.name %>">
                    </div>

                  <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" class="form-control"  name="email" id="email"  value="<%= user.email %>">

                  </div>
                  <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" class="form-control"  name="pwd" id="pwd" >
                  </div>
                  <div class="card-action">
                    <button type="submit"  class="btn btn-success">Submit</button>
                    <button class="btn btn-danger">Cancel</button>
                  </div>

<script src="/javascripts/jquery-3.4.1.js" charset="utf-8"></script>

</html>


<!-- <!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>User Add</title>
  </head>
  <body>
    <h1>User Add page</h1>
    <form  action="/users/useradd" method="post" id="myform">
      <label for="name">User name</label>
      <input type="text" name="name" value="" id="name"><p>
        <label for="email">Enter email</label>
        <input type="email" name="email" id="email" value=""><p>
          <label for="pwd">Password</label>
          <input type="Password" name="pwd" id="pwd" value=""><p>
            <input type="submit" name="" value="Submit">
    </form>
  </body>
   <script src="/javascripts/jquery-3.4.1.js" charset="utf-8"></script>
<script src="/javascripts/jquery.validate.min.js" charset="utf-8"></script>
  <script type="text/javascript">
  $('#email').blur(function(){
    var datap={email:$('#email').val()};
    if(datap.email != ''){
      console.log('calll');
    $.ajax({url:'/users/duemail',data:datap,type:'POST',
  success:function(result){
    if(result.status){
      alert('duplicate email or email validate');
      $('#email').val('');
      $('#email').focus();
    }}  })}
  });
  $('#myform').validate({
    rules:{
      name:{required:true,
            minlength:3,
            maxlength:20
            },
    email: {required:true,
            emailExt:true
    },

      pwd: {required:true,
        minlength:6,
        maxlength:20,
      pwcheck:true
    }

  },
  messages:{
    name:{
      required:'User Name field is required'},

    email:{
      required:'User email is required'
    },
    pwd:{
      required:'Password is required',
      pwcheck:'Please enter 1 uppercase,1 lowercase,1 digit'
    },
    maxlength:$.validator.format("Please Insert max {0} chapter"),

    minlength:$.validator.format("Please Insert aleast {0} chapter"),

}
})
jQuery.validator.addMethod("emailExt", function(value, element, param) {
    return value.match(/^[a-zA-Z0-9_\.%\+\-]+@[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,}$/);
},'Your E-mail is wrong');
$.validator.addMethod("pwcheck",
function(value, element) {
   return /^[A-Za-z0-9\d=!\-@._*]+$/.test(value)//consists of only these
   && /[a-z]/.test(value) // has a lowercase letter
   && /[A-Z]/.test(value) // has a uppercase letter
   && /\d/.test(value) // has a digit
});

  </script>

</html> -->

<!-- <!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>User Add</title>
  </head>
  <body>
    <h1>User Add page</h1>
    <form  action="/users/userupdate" method="post">
      <input type="hidden" name="id" value="<%= user._id%>">
      <label for="name">User name</label>
      <input type="text" name="name" value="<%=user.name%>"><p>
        <label for="email">Enter email</label>
        <input type="email" name="email" value="<%= user.email%>"><p>
          <label for="pwd">Password</label>
          <input type="Password" name="pwd" value="<%= user.password%>"><p>
            <input type="submit" name="" value="Submit">
    </form>
  </body>
</html> -->
